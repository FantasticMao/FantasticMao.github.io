---
title: "这个博客的构建和部署"
date: 2020-04-08T00:03:00+08:00
categories: ["闲聊"]
tags: ["Free Talk"]
keywords: ["个人博客", "搭建博客", "Hugo", "Hugo-Coder"]
draft: true
---

最近几天打理了荒废很久的博客，从原先的 Hexo 迁移到了 Hugo，给站点加了 RSS、CDN 以及其它乱七八糟的功能，顺带还给这个博客主题提交了一个 SEO 优化相关的 [Pull Requests](https://github.com/luizdepra/hugo-coder/pull/300)。<!--more-->

整个博客迁移的过程费了挺多时间和精力，所以决定还是写一篇文章，主要记录这个博客构建和部署过程中的一些个性化配置和优化相关内容。

---

## 运行架构

这个博客是以 Markdown 编写的，使用 Hugo 构建并且部署在 Github Pages 上，整个站点的运行架构如下：

![image](/images/这个博客的构建和部署/1.png)

---

## 构建

在使用 Hugo 构建博客的静态资源时，主要有以下个性化配置：

- 支持原始 HTML 标签

  Hugo 在 0.60 版本之后默认使用 [Goldmark](https://github.com/yuin/goldmark/) 来解析 Markdown，这个组件默认不会渲染 Markdown 中的原始 HTML 标签，所以需要显式开启该功能。

- 配置 robots.txt

  需要禁止搜索引擎爬取 /about 页面，所以配置了 [robots.txt](/robots.txt) 文件。

- 使用相对 URL

  站点会被部署在多个域名之下，所以需要禁止使用 HTML 的 `<base>` 标签，即禁止使用 Hugo 的 `baseURL` 配置项。

- publishDir

  站点被托管于 GitHub Pages 仓库的 master 分支的 /docs 目录下，所以需要将生成静态资源的目录从默认的 /public 显式配置为 /docs。

* RSS

  Hugo 默认开启 RSS 功能。

* Google Analytics

  Hugo 模版中内置支持 Google Analytics，配置 Google Analytics 中的 Property Tracking ID 即可开启。

* Disqus

  Hugo 模版中内置支持 Disqus，配置 Disqus Website Shortname 即可开启。

---

## 部署

- 创建 GitHub Pages
- 配置 GitHub Pages
- deploy.sh
- CDN 加速
- DNS 解析

---

## SEO

### 站内优化

### 百度

### Google
